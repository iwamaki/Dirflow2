<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI File Manager - Refactored</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <div class="header-left">
            <button class="btn-circle hidden" id="backBtn">←</button>
            <div class="current-path" id="currentPath">/workspace</div>
            <div class="selection-info" id="selectionInfo">1件選択中</div>
        </div>
        <div class="header-right">
            <button class="btn-circle hidden" id="saveBtn">💾</button>
            <button class="btn-circle hidden" id="editBtn">✏️</button>
            <button class="btn-circle" id="settingsBtn">⚙️</button>
        </div>
    </div>

    <div class="main-content">
        <div class="file-list-container" id="fileListContainer">
            <div id="fileList"></div>
        </div>

        <div class="file-view" id="fileView">
            <div class="file-content" id="fileContent"></div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="chat-container" id="chatContainer">
            <input type="text" class="chat-input" id="chatInput" placeholder="メッセージを入力してください...">
            <button class="send-btn" id="sendBtn">送信</button>
        </div>

        <div class="action-container" id="actionContainer">
            <button class="action-btn" data-action="copy">📋 コピー</button>
            <button class="action-btn" data-action="rename">✏️ 名前変更</button>
            <button class="action-btn danger" data-action="delete">🗑️ 削除</button>
            <button class="btn secondary" id="cancelBtn">キャンセル</button>
        </div>
    </div>

    <button class="fab" id="fabBtn">+</button>

    <div class="chat-overlay" id="chatOverlay">
        <div class="chat-area">
            <div class="chat-header">
                <div class="modal-title">💬 AI チャット</div>
                <button class="modal-close" id="chatCloseBtn">×</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message system">AI File Manager - Refactored が開始されました。</div>
            </div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">⚙️ 設定</div>
                <button class="modal-close">×</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">🎨 テーマ</label>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn" data-theme="dark">ダーク</button>
                        <button class="btn secondary" data-theme="light">ライト</button>
                    </div>
                </div>
                <div>
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">📝 フォントサイズ</label>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn secondary" data-font="small">小</button>
                        <button class="btn" data-font="medium">中</button>
                        <button class="btn secondary" data-font="large">大</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="createModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">📝 新規ファイル作成</div>
                <button class="modal-close">×</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">ファイルパス</label>
                    <input type="text" class="input" id="filePathInput" placeholder="例: documents/notes.md">
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">初期コンテンツ（省略可）</label>
                    <textarea class="input" id="fileContentInput" rows="4" placeholder="ファイルの初期内容..."></textarea>
                </div>
                <div style="display: flex; gap: 12px; justify-content: flex-end;">
                    <button class="btn secondary" data-modal="close">キャンセル</button>
                    <button class="btn" id="createFileBtn">作成</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="renameModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">✏️ 名前変更</div>
                <button class="modal-close">×</button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">新しい名前</label>
                    <input type="text" class="input" id="renameInput" placeholder="新しいファイル名">
                </div>
                <div style="display: flex; gap: 12px; justify-content: flex-end;">
                    <button class="btn secondary" data-modal="close">キャンセル</button>
                    <button class="btn" id="renameFileBtn">変更</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
